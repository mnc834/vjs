<!DOCTYPE html>
<html>

<head>
    <title>canvas test</title>
    <script type="text/javascript" src="../src/v_plane.js"></script>
    <script type="text/javascript" src="../src/g_objects.js"></script>
</head>

<body>

<p>The three different line caps:</p>
<canvas id="myCanvas" width="300" height="150" style="border:1px solid #d3d3d3;">
    Your browser does not support the HTML5 canvas tag.</canvas>

<div id="myDIV">This example uses the addEventListener() <span></span>. </div>

<button id="myBtn">Try it</button>

<p id="demo"></p>

<script>

    var c = document.getElementById("myCanvas");
    var txt = document.getElementById("myDIV");


    var v_plane = new V_plane(c);
    v_plane.add_on_click_listener(function(t)
    {
        txt.textContent = "(" + t.x + "; " + t.y + "); " + "(" + t.x_screen + "; " + t.y_screen + ")";
    });

    var w = v_plane.get_physical_window();
    var dy = (w.top - w.bottom) / 4;
    var dx = (w.right - w.left) / 4;

    var l_data = [
                {y: dy, colour: "#FF0000"},
                {y: 0, colour: "#00FF00"},
                {y: -dy, colour: "#0000FF"}
            ];
    var i;

    for (i = 0; i < l_data.length; i++)
    {
        var x0 = -dx;
        var y0 = l_data[i].y;
        var x1 = dx;
        var y1 = l_data[i].y;
        var line = new Line({x: x0, y: y0}, {x: x1, y: y1}, l_data[i].colour);
        v_plane.add_g_object(line);
    }

    var button = document.getElementById("myBtn");

    var fun = function() {};
    var line_text_element = document.getElementById("demo");

    button.addEventListener("click", function (){
        fun();
        var w = v_plane.get_physical_window();
        line_text_element.innerHTML = w.left + ', ' + w.top + '; ' + w.right + ', ' + w.bottom;
        var line = new Rectangle(w, "#A0A0A0");
        var id = v_plane.add_g_object(line);
        fun = function() {v_plane.remove_g_object(id)};
    });

</script>

</body>
</html>
